<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>BAB I: Pengantar Pos Layanan Komunitas (PoC) – E-Learning</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
    <style>
        :root {
            --primary: #009688;
            --primary-dark: #00796b;
            --accent: #004d40;
            --light: #fff;
            --bg: #f5f5f5;
            --footer-dark: #263238;
            --info-box-bg: #e0f2f1; /* Light teal for information boxes */
            --popup-bg: #f0f8ff; /* Light blue for pop-ups */
            --drag-drop-border: #00796b; /* Darker primary for drag/drop area */
            /* New color for better contrast on light backgrounds */
            --dark-text: #333; /* A dark gray for general text */
        }
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: Arial, Helvetica, sans-serif;
        }
        body {
            background: var(--bg);
            color: var(--dark-text); /* Use dark-text for general body text */
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        header {
            background: var(--light);
            padding: 24px;
            text-align: center;
            border-bottom: 1px solid #ccc;
        }
        header img.logo {
            max-width: 200px;
            margin-bottom: 10px;
        }
        header h1 {
            font-size: 1.8rem;
            color: var(--accent);
            margin-bottom: 15px;
        }
        header p {
            font-size: 1.1rem;
            margin-bottom: 10px;
        }
        header ul {
            list-style-type: none;
            padding: 0;
            margin-top: 15px;
            display: inline-block; /* Untuk memusatkan list */
            text-align: left;
        }
        header ul li {
            margin-bottom: 8px;
            font-size: 1rem;
            color: var(--dark-text); /* Ensure good contrast for list items */
        }
        header ul li i {
            margin-right: 8px;
            color: var(--primary);
        }
        main {
            flex: 1;
            max-width: 960px;
            margin: 0 auto;
            padding: 30px 16px;
        }
        section.slide {
            margin-bottom: 40px;
            background: white;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        section.slide h2 {
            font-size: 1.6rem;
            border-bottom: 2px solid var(--primary);
            padding-bottom: 10px;
            margin-bottom: 25px;
            text-align: center;
            color: var(--primary);
        }
        section.slide h3 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--primary-dark);
        }
        section.slide p {
            font-size: 1rem;
            margin-bottom: 16px;
            line-height: 1.6;
            color: var(--dark-text); /* Ensure good contrast for paragraph text */
        }
        ul {
            list-style-type: none;
            padding-left: 0;
        }
        ul li {
            margin-bottom: 8px;
        }
        .media-box, .interactive-box, .quiz-box {
            margin-top: 20px;
            padding: 15px;
            background: var(--info-box-bg);
            border-left: 5px solid var(--primary);
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            margin-bottom: 25px;
        }
        .media-box h4, .interactive-box h4, .quiz-box h4 {
            background-color: var(--primary);
            color: var(--light);
            padding: 10px 15px;
            border-radius: 8px 8px 0 0;
            margin: -15px -15px 15px -15px;
            display: flex;
            align-items: center;
            font-size: 1.1rem;
        }
        .media-box h4 i, .interactive-box h4 i, .quiz-box h4 i {
            margin-right: 10px;
            color: var(--light);
            font-size: 1.3em;
        }
        .pop-up-info {
            background-color: var(--popup-bg);
            border-left: 4px solid var(--primary);
            padding: 12px;
            margin-top: 15px;
            border-radius: 8px;
            font-size: 0.95em;
            display: none; /* Hidden by default */
            box-shadow: 0 2px 5px rgba(0,0,0,0.08);
            font-weight: bold;
            color: var(--accent); /* Changed to accent for better contrast on light blue background */
        }
        .target-icon {
            cursor: pointer;
            color: var(--primary-dark);
            font-size: 1.2em;
            margin-right: 5px;
        }
        .quiz-question {
            background-color: #fff;
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        .quiz-question p {
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--dark-text); /* Ensure good contrast for quiz question text */
        }
        .quiz-options label {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding: 8px 12px;
            border: 1px solid #eee;
            border-radius: 6px;
            transition: background-color 0.3s ease;
            cursor: pointer;
            color: var(--accent); /* Changed to accent for better contrast on light background */
        }
        .quiz-options label:hover {
            background-color: #f0f0f0;
        }
        .quiz-options input[type="radio"], .quiz-options input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }
        .quiz-feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 8px;
            font-weight: bold;
            text-align: center;
            display: none;
        }
        .quiz-feedback.correct {
            background-color: #e6ffe6;
            color: #006400;
        }
        .quiz-feedback.incorrect {
            background-color: #ffe6e6;
            color: #8B0000;
        }
        .button-check {
            background-color: var(--primary-dark);
            color: var(--light);
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
            transition: background-color 0.3s ease;
        }
        .button-check:hover {
            background-color: var(--accent);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        table th, table td {
            padding: 12px;
            border: 1px solid #ddd;
            text-align: left;
            color: var(--dark-text); /* Set default text color for table cells */
        }
        table th {
            background-color: var(--primary);
            color: var(--light);
            font-weight: bold;
        }
        table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        table tr:hover {
            background-color: #f0f0f0;
        }

        /* Styles for interactive charts/graphs/animations */
        .chart-container {
            position: relative;
            width: 100%;
            height: 300px;
            background-color: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        /* Dummy Bar Chart for HIV Cases */
        .bar-chart {
            width: 90%;
            height: 80%;
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            padding: 10px;
            border-bottom: 2px solid var(--dark-text); /* Changed border color for better contrast */
            border-left: 2px solid var(--dark-text); /* Changed border color for better contrast */
        }
        .bar {
            width: 15%;
            background-color: var(--primary);
            margin: 0 2%;
            position: relative;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.3s ease;
            display: flex;
            flex-direction: column; /* Changed to column to stack value and label */
            align-items: center;
            justify-content: flex-end;
            color: var(--light);
            font-weight: bold;
            font-size: 0.8em;
        }
        .bar:hover {
            background-color: var(--primary-dark);
            transform: translateY(-5px);
        }
        .bar-label {
            position: absolute;
            bottom: -20px;
            font-size: 0.7em;
            color: var(--dark-text); /* Changed for better contrast */
            white-space: nowrap;
        }
        .bar-value {
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--light); /* Ensure bar values are light on dark primary background */
        }
        .bar-popup {
            position: absolute;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px;
            border-radius: 5px;
            font-size: 0.8em;
            white-space: nowrap;
            bottom: calc(100% + 5px);
            left: 50%;
            transform: translateX(-50%);
            display: none;
            z-index: 10;
            font-weight: bold;
        }
        .bar:hover .bar-popup {
            display: block;
        }

        /* 95-95-95 Infographic */
        .target-95-container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        .target-95-item {
            background-color: var(--primary-dark);
            color: var(--light);
            border-radius: 50%;
            width: 120px;
            height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 1.8em;
            font-weight: bold;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s ease, background-color 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .target-95-item:hover {
            transform: scale(1.05);
            background-color: var(--accent);
        }
        .target-95-item span {
            font-size: 0.5em;
            text-align: center;
            line-height: 1.2;
            padding: 0 10px;
            font-weight: bold;
            color: var(--light); /* Ensure text in 95-95-95 item is light on dark background */
        }
        .target-95-popup {
            position: absolute;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px;
            border-radius: 8px;
            font-size: 0.75em;
            white-space: normal;
            text-align: center;
            width: 200px;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            display: none;
            z-index: 10;
            font-weight: bold;
        }
        .target-95-item:hover .target-95-popup {
            display: block;
        }

        /* DSD Drag and Drop */
        .drag-drop-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 20px;
        }
        .drag-items-area {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            padding: 15px;
            border: 2px dashed var(--primary-dark);
            border-radius: 8px;
            background-color: #f7fcfa;
            min-height: 100px;
        }
        .draggable-dsd {
            background-color: var(--primary);
            color: var(--light);
            padding: 10px 15px;
            border-radius: 5px;
            cursor: grab;
            font-size: 0.9em;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            transition: background-color 0.3s ease;
            font-weight: bold;
            position: relative; /* Needed for z-index during drag */
            z-index: 1;
        }
        .draggable-dsd:hover {
            background-color: var(--primary-dark);
        }
        .drop-targets-area {
            display: flex;
            justify-content: space-around;
            gap: 20px;
            flex-wrap: wrap;
        }
        .drop-target {
            flex: 1;
            min-width: 200px;
            border: 2px solid var(--accent);
            border-radius: 8px;
            padding: 15px;
            background-color: #e0f2f1;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }
        .drop-target h5 {
            color: var(--accent);
            margin-bottom: 10px;
            text-align: center;
            font-weight: bold;
        }
        .drop-target.hovered {
            background-color: #c8e6c9; /* Light green on hover */
            border-color: var(--primary);
        }
        .drop-target.correct-drop {
            border-color: green;
            background-color: #dcedc8; /* Lighter green */
        }
        .drop-target.incorrect-drop {
            border-color: red;
            background-color: #ffcdd2; /* Lighter red */
        }
        .drop-feedback {
            margin-top: 10px;
            padding: 8px;
            border-radius: 5px;
            font-size: 0.8em;
            text-align: center;
            display: none;
            font-weight: bold;
        }
        .drop-feedback.correct {
            background-color: #e6ffe6;
            color: #006400;
        }
        .drop-feedback.incorrect {
            background-color: #ffe6e6;
            color: #8B0000;
        }

        /* Comparison Table (PoC vs CBC) */
        .comparison-table table tr td {
            position: relative;
        }
        .comparison-table .cell-popup {
            position: absolute;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px;
            border-radius: 5px;
            font-size: 0.75em;
            white-space: nowrap;
            display: none;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            font-weight: bold;
        }
        .comparison-table table td:hover .cell-popup {
            display: block;
        }

        footer {
            background: var(--footer-dark);
            color: #fff;
            text-align: center;
            padding: 16px;
            font-size: .9rem;
        }

        /* Ensure all text within strong tags is bold */
        strong {
            font-weight: bold !important;
        }
        /* Ensure all text within b tags is bold */
        b {
            font-weight: bold !important;
        }
        /* Ensure any paragraph containing a narrative starts with a bold "Narasi:" */
        p.narration strong {
            font-weight: bold;
        }
    </style>
</head>
<body>
    <header>
        <img src="https://res.cloudinary.com/djexglfns/image/upload/v1749135749/logo_kemenkes_c2ggdg.png" alt="Logo Kemenkes" class="logo">
        <h1>E-Learning Pos Layanan Komunitas – BAB I: Pengantar PoC</h1>
        <p>Selamat datang! Setelah menyelesaikan bab ini, Anda diharapkan dapat:</p>
        <ul>
            <li><i class="fas fa-check-circle"></i> Menjelaskan <strong>latar belakang urgensi</strong> Pos Layanan Komunitas (PoC) dalam penanggulangan HIV dan IMS di Indonesia.</li>
            <li><i class="fas fa-check-circle"></i> Mengidentifikasi <strong>tujuan utama dan pentingnya</strong> keberadaan PoC sebagai solusi inovatif.</li>
            <li><i class="fas fa-check-circle"></i> Membandingkan <strong>karakteristik PoC</strong> dengan model layanan berbasis komunitas lainnya.</li>
        </ul>
    </header>

    <main>
        <section class="slide">
            <h2>1.1 Mengapa PoC Penting? Tantangan dalam Penanggulangan HIV di Indonesia</h2>
            <p class="narration"><strong>Narasi Pembuka:</strong> Indonesia, dengan keberagaman dan semangat gotong royongnya, menghadapi tantangan besar dalam upaya penanggulangan HIV dan IMS. Di balik setiap angka, ada kisah manusia, ada harapan untuk hidup sehat dan bebas stigma.</p>

            <div class="media-box">
                <h4><i class="fas fa-chart-line"></i> Kilas Balik & Data Visual: Kasus HIV sejak 1987</h4>
                <p class="narration"><strong>Narasi:</strong> Sejak kasus pertama HIV/AIDS ditemukan di Indonesia pada tahun 1987, kita telah melihat perjalanan panjang. Data menunjukkan bahwa infeksi HIV masih terus menjadi perhatian serius. Ini bukan hanya statistik, ini adalah realitas yang membutuhkan perhatian dan tindakan kita bersama.</p>
                <div class="chart-container">
                    <div class="bar-chart">
                        <div class="bar" style="height: 10%;" data-year="1987" data-fact="Kasus HIV pertama di Indonesia dilaporkan.">
                            <span class="bar-value">1987</span>
                            <div class="bar-popup"><strong>1987:</strong> Kasus HIV pertama di Indonesia dilaporkan.</div>
                        </div>
                        <div class="bar" style="height: 20%;" data-year="1995" data-fact="Pemerintah mulai aktif dalam program penanggulangan HIV.">
                            <span class="bar-value">1995</span>
                            <div class="bar-popup"><strong>1995:</strong> Pemerintah mulai aktif dalam program penanggulangan HIV.</div>
                        </div>
                        <div class="bar" style="height: 40%;" data-year="2005" data-fact="ARV mulai tersedia lebih luas, namun akses masih terbatas.">
                            <span class="bar-value">2005</span>
                            <div class="bar-popup"><strong>2005:</strong> ARV mulai tersedia lebih luas, namun akses masih terbatas.</div>
                        </div>
                        <div class="bar" style="height: 60%;" data-year="2015" data-fact="Inisiatif global 90-90-90 diluncurkan, mendorong deteksi dan pengobatan.">
                            <span class="bar-value">2015</span>
                            <div class="bar-popup"><strong>2015:</strong> Inisiatif global 90-90-90 diluncurkan, mendorong deteksi dan pengobatan.</div>
                        </div>
                        <div class="bar" style="height: 80%;" data-year="2024" data-fact="Jumlah kasus terus bertambah, PoC menjadi strategi kunci penjangkauan.">
                            <span class="bar-value">2024</span>
                            <div class="bar-popup"><strong>2024:</strong> Jumlah kasus terus bertambah, PoC menjadi strategi kunci penjangkauan.</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="media-box">
                <h4><i class="fas fa-bullseye"></i> Visi & Misi Nasional: Target Indonesia Bebas AIDS 2030</h4>
                <p class="narration"><strong>Narasi:</strong> Untuk mencapai visi 2030, kita punya peta jalan global yang dikenal sebagai <strong>strategi 95-95-95</strong>. Ini adalah target ambisius tapi sangat penting:</p>
                <ul>
                    <li><strong onclick="togglePopup('newCase')" style="cursor: pointer;"><i class="fas fa-times-circle target-icon"></i> NOL Kasus Infeksi Baru</strong>
                        <div id="newCase" class="pop-up-info">Ini berarti kita ingin menghentikan penularan HIV baru sepenuhnya, memastikan tidak ada lagi orang yang terinfeksi.</div>
                    </li>
                    <li><strong onclick="togglePopup('noDeath')" style="cursor: pointer;"><i class="fas fa-heartbeat target-icon"></i> NOL Kematian Terkait AIDS</strong>
                        <div id="noDeath" class="pop-up-info">Tujuannya adalah memastikan setiap ODHIV mendapatkan akses pengobatan ARV yang memadai agar bisa hidup sehat dan produktif, tanpa komplikasi serius.</div>
                    </li>
                    <li><strong onclick="togglePopup('noStigma')" style="cursor: pointer;"><i class="fas fa-handshake target-icon"></i> NOL Stigma & Diskriminasi</strong>
                        <div id="noStigma" class="pop-up-info">Ini tentang membangun masyarakat yang menerima dan mendukung ODHIV, menghilangkan prasangka buruk dan perlakuan tidak adil yang seringkali lebih menyakitkan daripada penyakitnya sendiri.</div>
                    </li>
                </ul>

                <h4 style="margin-top: 25px;"><i class="fas fa-chart-pie"></i> Strategi 95-95-95</h4>
                <div class="target-95-container">
                    <div class="target-95-item">
                        95%
                        <span>Mengetahui Status</span>
                        <div class="target-95-popup">Meningkatkan kesadaran dan akses pada tes HIV adalah kunci.</div>
                    </div>
                    <div class="target-95-item">
                        95%
                        <span>Mendapatkan ARV</span>
                        <div class="target-95-popup">Memastikan setiap ODHIV memiliki akses terhadap terapi yang menyelamatkan jiwa.</div>
                    </div>
                    <div class="target-95-item">
                        95%
                        <span>Mencapai Supresi Virus</span>
                        <div class="target-95-popup">Supresi virus tidak hanya membuat ODHIV sehat, tapi juga mencegah penularan lebih lanjut.</div>
                    </div>
                </div>
                <script>
                    function togglePopup(id) {
                        var popup = document.getElementById(id);
                        if (popup.style.display === "block") {
                            popup.style.display = "none";
                        } else {
                            // Close all other popups before opening a new one
                            document.querySelectorAll('.pop-up-info').forEach(p => p.style.display = 'none');
                            popup.style.display = "block";
                        }
                    }
                </script>
            </div>

            <div class="interactive-box">
                <h4><i class="fas fa-exclamation-triangle"></i> Skenario Masalah: Mengapa Target Sulit Dicapai?</h4>
                <p class="narration"><strong>Narasi:</strong> Sayangnya, target ambisius ini tak mudah dicapai. Ada rintangan yang seringkali tak terlihat, namun dampaknya sangat nyata bagi mereka yang hidup dengan HIV atau berisiko tinggi.</p>
                <ul>
                    <li><i class="fas fa-user-slash" style="color: var(--accent);"></i> <strong>Skenario A (Stigma):</strong> Seorang individu ingin tes HIV tetapi ragu karena takut dihakimi di fasilitas kesehatan terdekat. Orang-orang berbisik saat ia mendekati klinik.</li>
                    <li><i class="fas fa-walking" style="color: var(--accent);"></i> <strong>Skenario B (Akses Sulit):</strong> Seorang ODHIV harus menempuh perjalanan jauh dan menghabiskan banyak biaya hanya untuk mengambil ARV bulanan karena fasyankes terdekat tidak menyediakan layanan PDP.</li>
                    <li><i class="fas fa-chart-line-down" style="color: var(--accent);"></i> <strong>Skenario C (LTFU - Loss to Follow-Up):</strong> Sebuah grafik menunjukkan penurunan jumlah pasien yang rutin minum ARV setelah beberapa bulan, dengan narasi "Banyak yang memulai, tapi tak banyak yang bertahan."</li>
                </ul>
                <div class="quiz-box">
                    <h4><i class="fas fa-lightbulb"></i> Pertanyaan Refleksi Interaktif</h4>
                    <div class="quiz-question">
                        <p>Dari skenario tadi, apa <strong>tantangan terbesar</strong> yang Anda lihat dalam penjangkauan dan retensi ODHIV di komunitas Anda?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="challenge" value="stigma"> Stigma dan diskriminasi</label>
                            <label><input type="radio" name="challenge" value="access"> Akses layanan yang sulit/mahal</label>
                            <label><input type="radio" name="challenge" value="ltfu"> Tingginya angka putus pengobatan (LTFU)</label>
                            <label><input type="radio" name="challenge" value="all"> Semua jawaban di atas</label>
                        </div>
                        <button class="button-check" onclick="checkReflectionQuiz()">Kirim Jawaban</button>
                        <div id="reflection-feedback" class="quiz-feedback"></div>
                    </div>
                    <script>
                        function checkReflectionQuiz() {
                            const selected = document.querySelector('input[name="challenge"]:checked');
                            const feedbackDiv = document.getElementById('reflection-feedback');
                            if (selected) {
                                if (selected.value === 'all') {
                                    feedbackDiv.textContent = "Tepat sekali! Stigma, akses sulit, dan LTFU adalah tantangan besar yang saling terkait dan perlu diatasi secara komprehensif.";
                                    feedbackDiv.className = "quiz-feedback correct";
                                } else {
                                    feedbackDiv.textContent = "Itu salah satu tantangan penting, namun ada faktor lain yang juga berkontribusi. Pertimbangkan semua aspek yang mungkin mempengaruhi penjangkauan dan retensi ODHIV.";
                                    feedbackDiv.className = "quiz-feedback incorrect";
                                }
                                feedbackDiv.style.display = "block";
                            } else {
                                feedbackDiv.textContent = "Silakan pilih salah satu jawaban untuk melanjutkan.";
                                feedbackDiv.className = "quiz-feedback incorrect";
                                feedbackDiv.style.display = "block";
                            }
                        }
                    </script>
                </div>
            </div>
        </section>

        <section class="slide">
            <h2>1.2 Solusi Inovatif: Merangkul Kolaborasi dan Fleksibilitas</h2>
            <p class="narration"><strong>Narasi:</strong> Untuk mengatasi tantangan ini, Indonesia tidak tinggal diam. Kita mengadopsi pendekatan inovatif yang mengedepankan <strong>kolaborasi</strong> dan <strong>fleksibilitas layanan</strong>. Mari kenali dua konsep utamanya: <strong>Public-Private-Community Partnership (PPCP)</strong> dan <strong>Differentiated Service Delivery (DSD)</strong>.</p>

            <div class="media-box">
                <h4><i class="fas fa-people-arrows"></i> Memahami PPCP: Kekuatan Kolaborasi</h4>
                <p class="narration"><strong>Narasi:</strong> PPCP adalah strategi kerja sama lintas sektor. Bayangkan seperti tiga kekuatan besar yang bersatu padu untuk satu tujuan: melawan HIV dan IMS. Ini menciptakan <strong>sinergi yang luar biasa!</strong></p>
                <div style="display: flex; justify-content: space-around; gap: 15px; margin-top: 20px; flex-wrap: wrap;">
                    <div class="target-95-item" style="background-color: #3f51b5; width: 150px; height: 150px;" onclick="showPPCPDetail('gov')">
                        <i class="fas fa-building fa-2x"></i>
                        <span>Pemerintah</span>
                        <div id="gov" class="pop-up-info" style="top: 160%; width: 250px;"><strong>Pemerintah:</strong> Menyediakan regulasi, kebijakan, dan dukungan sumber daya. Contoh: Kemenkes, Dinas Kesehatan.</div>
                    </div>
                    <div class="target-95-item" style="background-color: #ff9800; width: 150px; height: 150px;" onclick="showPPCPDetail('private')">
                        <i class="fas fa-handshake-alt fa-2x"></i>
                        <span>Swasta</span>
                        <div id="private" class="pop-up-info" style="top: 160%; width: 250px;"><strong>Swasta:</strong> Berperan dalam inovasi, pendanaan, dan perluasan layanan. Contoh: Perusahaan farmasi, klinik swasta.</div>
                    </div>
                    <div class="target-95-item" style="background-color: #4caf50; width: 150px; height: 150px;" onclick="showPPCPDetail('community')">
                        <i class="fas fa-users fa-2x"></i>
                        <span>Komunitas</span>
                        <div id="community" class="pop-up-info" style="top: 160%; width: 250px;"><strong>Komunitas:</strong> Jantung dari PPCP, sebagai penjangkau, pendamping, dan penyedia layanan yang memahami kebutuhan akar rumput. Contoh: LSM, kelompok dukungan.</div>
                    </div>
                </div>
                <script>
                    function showPPCPDetail(id) {
                        var popup = document.getElementById(id);
                        if (popup.style.display === "block") {
                            popup.style.display = "none";
                        } else {
                            document.querySelectorAll('.pop-up-info').forEach(p => p.style.display = 'none');
                            popup.style.display = "block";
                        }
                    }
                </script>
            </div>

            <div class="interactive-box">
                <h4><i class="fas fa-cogs"></i> Memahami DSD: Layanan yang Memahami Anda</h4>
                <p class="narration"><strong>Narasi:</strong> Differentiated Service Delivery (DSD) berarti menyediakan layanan kesehatan HIV yang disesuaikan dengan kebutuhan individu. Bukan satu ukuran untuk semua, melainkan layanan yang <strong>'pas' untuk setiap orang</strong>, mempertimbangkan konteks dan preferensi.</p>

                <h4 style="margin-top: 25px;"><i class="fas fa-arrows-alt"></i> Aktivitas Drag-and-Drop: Contoh Implementasi DSD</h4>
                <p><strong>Instruksi:</strong> Seret dan lepaskan contoh implementasi DSD ke kategori keunggulan utamanya. Ini akan membantu Anda memahami bagaimana DSD memberikan dampak nyata!</p>

                <div class="drag-drop-container">
                    <div class="drag-items-area" id="drag-items-area">
                        <div class="draggable-dsd" draggable="true" data-category="efisiensi">Pengambilan ARV Multi-Bulan (MMD)</div>
                        <div class="draggable-dsd" draggable="true" data-category="akses">Layanan di Komunitas/Rumah (CCDD)</div>
                        <div class="draggable-dsd" draggable="true" data-category="personalisasi">Jadwal Kunjungan Fleksibel</div>
                        <div class="draggable-dsd" draggable="true" data-category="efisiensi">Penyederhanaan Proses Rujukan</div>
                        <div class="draggable-dsd" draggable="true" data-category="akses">Layanan Telemedisin untuk Konsultasi</div>
                    </div>
                    <div class="drop-targets-area">
                        <div class="drop-target" id="target-efisiensi" data-accept="efisiensi">
                            <h5><i class="fas fa-rocket"></i> Peningkatan Efisiensi</h5>
                        </div>
                        <div class="drop-target" id="target-akses" data-accept="akses">
                            <h5><i class="fas fa-map-marker-alt"></i> Peningkatan Akses</h5>
                        </div>
                        <div class="drop-target" id="target-personalisasi" data-accept="personalisasi">
                            <h5><i class="fas fa-user-check"></i> Personalisasi Layanan</h5>
                        </div>
                    </div>
                    <button class="button-check" onclick="checkDSDDragDrop()">Periksa Jawaban</button>
                    <div id="dsd-drop-feedback" class="quiz-feedback"></div>
                </div>
            </div>
        </section>

        <section class="slide">
            <h2>1.3 Pos Layanan Komunitas (PoC): Solusi Tepat Sasaran</h2>
            <p class="narration"><strong>Narasi:</strong> Di tengah tantangan dan kebutuhan akan solusi inovatif, lahirlah konsep <strong>Pos Layanan Komunitas (PoC)</strong>. PoC adalah perwujudan nyata dari PPCP dan DSD, sebuah jembatan yang menghubungkan layanan kesehatan dengan denyut nadi komunitas.</p>

            <div class="media-box">
                <h4><i class="fas fa-info-circle"></i> Definisi PoC</h4>
                <p class="narration"><strong>Narasi:</strong> Sederhananya, PoC adalah:</p>
                <ul>
                    <li><strong>Pos</strong>: Sebuah titik atau lokasi layanan.</li>
                    <li><strong>Layanan</strong>: Serangkaian aktivitas yang diberikan (tes, konseling, rujukan, ARV).</li>
                    <li><strong>Komunitas</strong>: Berada di lingkungan masyarakat, dekat dengan mereka yang membutuhkan.</li>
                </ul>
                <p>Jadi, <strong>Pos Layanan Komunitas (PoC)</strong> adalah inisiatif berbasis masyarakat yang menyediakan layanan HIV/AIDS dan IMS yang komprehensif dan terintegrasi, dekat dengan populasi kunci dan rentan, dengan dukungan dari fasilitas kesehatan dan pemerintah.</p>
                <img src="https://res.cloudinary.com/djexglfns/image/upload/v1700000000/illustration_poc_community_access.png" alt="Ilustrasi PoC di Komunitas" style="max-width: 100%; height: auto; display: block; margin: 20px auto; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                <small style="display: block; text-align: center; color: #777;">*Ilustrasi: PoC sebagai jembatan akses layanan di tengah masyarakat.</small>
            </div>

            <div class="interactive-box">
                <h4><i class="fas fa-puzzle-piece"></i> Manfaat PoC: Hubungkan Pasangan yang Tepat!</h4>
                <p><strong>Instruksi:</strong> Tarik garis (atau klik dua kali) untuk menghubungkan manfaat PoC dengan deskripsi yang sesuai. Ini akan membantu Anda melihat gambaran besar mengapa PoC begitu efektif!</p>
                <div id="matching-game-container" style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 20px; margin-top: 20px;">
                    <div class="matching-column" id="column-left" style="flex: 1; min-width: 250px; background-color: #f0f8ff; padding: 15px; border-radius: 8px; border: 1px solid var(--primary-dark);">
                        <div class="matching-item" data-id="1" data-correct-match="A">Meningkatkan Penjangkauan</div>
                        <div class="matching-item" data-id="2" data-correct-match="B">Mengurangi Stigma</div>
                        <div class="matching-item" data-id="3" data-correct-match="C">Meningkatkan Kepatuhan Pengobatan</div>
                    </div>
                    <div class="matching-column" id="column-right" style="flex: 1; min-width: 250px; background-color: #e0f2f1; padding: 15px; border-radius: 8px; border: 1px solid var(--accent);">
                        <div class="matching-item" data-id="A">Layanan dekat, mudah dijangkau, dan disesuaikan kebutuhan.</div>
                        <div class="matching-item" data-id="B">Lingkungan yang ramah, non-diskriminatif, dan didukung sebaya.</div>
                        <div class="matching-item" data-id="C">Pendampingan rutin dan pengingat dari komunitas.</div>
                    </div>
                </div>
                <div id="matching-feedback" class="quiz-feedback" style="margin-top: 20px;"></div>
                <button class="button-check" onclick="checkMatchingGame()">Periksa Jawaban</button>
                <button class="button-check" onclick="resetMatchingGame()" style="background-color: #888; margin-left: 10px;">Reset</button>

                <canvas id="matchingCanvas" style="position: absolute; top: 0; left: 0; pointer-events: none;"></canvas>
            </div>

            <div class="comparison-table media-box">
                <h4><i class="fas fa-balance-scale"></i> Perbandingan: PoC vs. Layanan Berbasis Klinik Tradisional</h4>
                <p class="narration"><strong>Narasi:</strong> PoC bukan pengganti layanan klinik, melainkan pelengkap yang krusial. Tabel ini akan membantu Anda melihat perbedaannya.</p>
                <table>
                    <thead>
                        <tr>
                            <th>Aspek</th>
                            <th>PoC (Pos Layanan Komunitas)</th>
                            <th>Layanan Klinik Tradisional</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Lokasi</strong></td>
                            <td>Dekat dengan populasi kunci/komunitas, seringkali di lokasi non-klinis (rumah komunitas, pusat dukungan).</td>
                            <td>Fasilitas kesehatan formal (puskesmas, rumah sakit, klinik).</td>
                        </tr>
                        <tr>
                            <td><strong>Aksesibilitas</strong></td>
                            <td>Sangat mudah diakses, mengurangi hambatan geografis dan stigma.</td>
                            <td>Mungkin sulit diakses bagi sebagian orang karena jarak, biaya, atau rasa takut stigma.</td>
                        </tr>
                        <tr>
                            <td><strong>Stigma</strong></td>
                            <td>Rendah, karena pendekatan berbasis komunitas dan seringkali oleh sebaya.</td>
                            <td>Potensi stigma tinggi, terutama di daerah dengan kesadaran rendah.</td>
                        </tr>
                        <tr>
                            <td><strong>Pendekatan</strong></td>
                            <td>Berpusat pada individu dan komunitas, fleksibel, didukung sebaya.</td>
                            <td>Berpusat pada fasilitas, jadwal kaku, kurang personal.</td>
                        </tr>
                        <tr>
                            <td><strong>Layanan</strong></td>
                            <td>Skrining, konseling, tes cepat, rujukan, pendampingan ARV, dukungan psikososial. <div class="cell-popup">Meliputi penjangkauan aktif, tes HIV/IMS, konseling sebaya, rujukan ke fasyankes, hingga pendampingan kepatuhan minum ARV.</div></td>
                            <td>Diagnosis lengkap, pengobatan ARV, manajemen komplikasi, layanan medis umum. <div class="cell-popup">Fokus pada aspek medis, diagnosis laboratorium, resep ARV, dan penanganan kondisi klinis.</div></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="quiz-box">
                <h4><i class="fas fa-question-circle"></i> Kuis Singkat: Pemahaman PoC</h4>
                <div class="quiz-question">
                    <p>Pilih pernyataan yang paling benar mengenai peran PoC dalam strategi penanggulangan HIV di Indonesia:</p>
                    <div class="quiz-options">
                        <label><input type="radio" name="pocRole" value="a"> PoC didirikan untuk menggantikan seluruh layanan klinik HIV/AIDS.</label>
                        <label><input type="radio" name="pocRole" value="b"> PoC bertujuan utama menyediakan perawatan intensif bagi ODHIV dengan komplikasi lanjut.</label>
                        <label><input type="radio" name="pocRole" value="c"> PoC merupakan titik layanan yang mendekatkan deteksi dan pendampingan HIV/IMS ke komunitas, mengurangi stigma dan meningkatkan akses.</label>
                        <label><input type="radio" name="pocRole" value="d"> PoC hanya fokus pada distribusi ARV tanpa layanan konseling atau tes.</label>
                    </div>
                    <button class="button-check" onclick="checkPocQuiz()">Periksa Jawaban</button>
                    <div id="poc-quiz-feedback" class="quiz-feedback"></div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 E-Learning Pos Layanan Komunitas. Hak Cipta Dilindungi.</p>
    </footer>

    <script>
        // DSD Drag and Drop functionality
        const dragItemsArea = document.getElementById('drag-items-area');
        const dropTargets = document.querySelectorAll('.drop-target');
        const dsdDropFeedback = document.getElementById('dsd-drop-feedback');

        let draggedItem = null;

        dragItemsArea.addEventListener('dragstart', (e) => {
            if (e.target.classList.contains('draggable-dsd')) {
                draggedItem = e.target;
                e.dataTransfer.setData('text/plain', e.target.dataset.category);
                setTimeout(() => {
                    e.target.style.opacity = '0.5';
                }, 0);
            }
        });

        dragItemsArea.addEventListener('dragend', (e) => {
            if (draggedItem) {
                draggedItem.style.opacity = '1';
                draggedItem = null;
            }
        });

        dropTargets.forEach(target => {
            target.addEventListener('dragover', (e) => {
                e.preventDefault(); // Allow drop
                target.classList.add('hovered');
            });

            target.addEventListener('dragleave', (e) => {
                target.classList.remove('hovered');
            });

            target.addEventListener('drop', (e) => {
                e.preventDefault();
                target.classList.remove('hovered');
                const category = e.dataTransfer.getData('text/plain');
                if (draggedItem && draggedItem.dataset.category === target.dataset.accept) {
                    target.appendChild(draggedItem);
                    draggedItem.style.position = 'static'; // Reset position
                    draggedItem.style.margin = '5px'; // Add some margin after dropping
                    draggedItem.classList.remove('draggable-dsd'); // Prevent further dragging
                    draggedItem.draggable = false;
                    target.classList.add('correct-drop'); // Visual feedback for correct drop
                    setTimeout(() => {
                        target.classList.remove('correct-drop');
                    }, 1000);
                } else if (draggedItem) {
                    // Optionally, move it back to the original area or highlight incorrect drop
                    target.classList.add('incorrect-drop');
                    setTimeout(() => {
                        target.classList.remove('incorrect-drop');
                    }, 1000);
                    // Append to original area if it was dragged from there and incorrect drop
                    // This part might need more sophisticated logic if you have multiple source areas
                    if (!dragItemsArea.contains(draggedItem)) { // Only if it's already moved from source
                        dragItemsArea.appendChild(draggedItem);
                        draggedItem.style.position = 'static';
                        draggedItem.style.margin = '';
                    }
                }
            });
        });

        function checkDSDDragDrop() {
            let allCorrect = true;
            dropTargets.forEach(target => {
                const acceptedCategory = target.dataset.accept;
                const droppedItems = Array.from(target.children).filter(child => child.classList.contains('draggable-dsd')); // items that were originally draggable

                // Check if all dropped items in this target match its category
                droppedItems.forEach(item => {
                    if (item.dataset.category !== acceptedCategory) {
                        allCorrect = false;
                    }
                });

                // Check if any items from other categories are in this target (this is implicitly covered by the above, but good for clarity)
                // Also, ensure items that SHOULD be here are here. This requires knowing the correct answers beforehand.
            });

            // Hardcode correct mapping for verification
            const correctMappings = {
                'target-efisiensi': ['Pengambilan ARV Multi-Bulan (MMD)', 'Penyederhanaan Proses Rujukan'],
                'target-akses': ['Layanan di Komunitas/Rumah (CCDD)', 'Layanan Telemedisin untuk Konsultasi'],
                'target-personalisasi': ['Jadwal Kunjungan Fleksibel']
            };

            for (const targetId in correctMappings) {
                const targetElement = document.getElementById(targetId);
                const currentItems = Array.from(targetElement.children).filter(child => child.classList.contains('draggable-dsd')).map(item => item.textContent);

                // Check if all correct items for this target are present AND only correct items are present
                const expectedItems = correctMappings[targetId];
                if (currentItems.length !== expectedItems.length || !expectedItems.every(item => currentItems.includes(item))) {
                    allCorrect = false;
                    break;
                }
            }


            if (allCorrect && Array.from(dragItemsArea.children).filter(child => child.classList.contains('draggable-dsd')).length === 0) {
                dsdDropFeedback.textContent = "Luar biasa! Anda berhasil mengkategorikan contoh implementasi DSD dengan tepat.";
                dsdDropFeedback.className = "quiz-feedback correct";
            } else {
                dsdDropFeedback.textContent = "Oops, ada yang belum tepat. Pastikan semua item berada di kategori yang sesuai dan tidak ada yang tersisa di area atas.";
                dsdDropFeedback.className = "quiz-feedback incorrect";
            }
            dsdDropFeedback.style.display = "block";
        }


        // Matching Game (click-to-connect)
        const matchingGameContainer = document.getElementById('matching-game-container');
        const matchingFeedback = document.getElementById('matching-feedback');
        const matchingCanvas = document.getElementById('matchingCanvas');
        const ctx = matchingCanvas.getContext('2d');

        let selectedItem = null;
        let connections = []; // Stores {leftId, rightId, status}

        // Set canvas dimensions to match container
        function setCanvasDimensions() {
            const rect = matchingGameContainer.getBoundingClientRect();
            matchingCanvas.width = rect.width;
            matchingCanvas.height = rect.height;
            matchingCanvas.style.position = 'absolute';
            matchingCanvas.style.top = rect.top + window.scrollY + 'px';
            matchingCanvas.style.left = rect.left + window.scrollX + 'px';
        }

        window.addEventListener('resize', setCanvasDimensions);
        setCanvasDimensions(); // Initial set

        matchingGameContainer.addEventListener('click', (e) => {
            const clickedItem = e.target.closest('.matching-item');
            if (!clickedItem) return;

            if (selectedItem === clickedItem) {
                selectedItem.style.backgroundColor = ''; // Deselect
                selectedItem = null;
                return;
            }

            // If an item is already selected
            if (selectedItem) {
                // Ensure they are from different columns
                if (selectedItem.parentElement === clickedItem.parentElement) {
                    selectedItem.style.backgroundColor = '';
                    selectedItem = clickedItem;
                    selectedItem.style.backgroundColor = '#dbe9d8'; // Highlight selected
                    return;
                }

                let leftItem, rightItem;
                if (selectedItem.parentElement.id === 'column-left') {
                    leftItem = selectedItem;
                    rightItem = clickedItem;
                } else {
                    leftItem = clickedItem;
                    rightItem = selectedItem;
                }

                // Check if this connection already exists
                const existingConnection = connections.find(conn =>
                    (conn.leftId === leftItem.dataset.id && conn.rightId === rightItem.dataset.id) ||
                    (conn.leftId === rightItem.dataset.id && conn.rightId === leftItem.dataset.id)
                );

                if (!existingConnection) {
                    connections.push({
                        leftId: leftItem.dataset.id,
                        rightId: rightItem.dataset.id,
                        status: 'pending' // Will be checked on submit
                    });
                }

                selectedItem.style.backgroundColor = ''; // Deselect both
                clickedItem.style.backgroundColor = '';
                selectedItem = null;
                drawConnections();
            } else {
                selectedItem = clickedItem;
                selectedItem.style.backgroundColor = '#dbe9d8'; // Highlight selected
            }
        });

        function drawConnections() {
            ctx.clearRect(0, 0, matchingCanvas.width, matchingCanvas.height);
            connections.forEach(conn => {
                const leftElement = document.querySelector(`.matching-item[data-id="${conn.leftId}"]`);
                const rightElement = document.querySelector(`.matching-item[data-id="${conn.rightId}"]`);

                if (leftElement && rightElement) {
                    const rectLeft = leftElement.getBoundingClientRect();
                    const rectRight = rightElement.getBoundingClientRect();
                    const containerRect = matchingGameContainer.getBoundingClientRect();

                    const startX = rectLeft.right - containerRect.left;
                    const startY = rectLeft.top + rectLeft.height / 2 - containerRect.top;
                    const endX = rectRight.left - containerRect.left;
                    const endY = rectRight.top + rectRight.height / 2 - containerRect.top;

                    ctx.beginPath();
                    ctx.moveTo(startX, startY);
                    ctx.lineTo(endX, endY);
                    ctx.strokeStyle = '#00796b'; // Primary-dark for connections
                    ctx.lineWidth = 2;
                    ctx.stroke();
                }
            });
        }

        function checkMatchingGame() {
            const correctPairs = {
                '1': 'A',
                '2': 'B',
                '3': 'C'
            };
            let allCorrect = true;
            let correctCount = 0;

            if (connections.length === 0) {
                matchingFeedback.textContent = "Silakan hubungkan manfaat PoC dengan deskripsinya terlebih dahulu!";
                matchingFeedback.className = "quiz-feedback incorrect";
                matchingFeedback.style.display = "block";
                return;
            }

            connections.forEach(conn => {
                const leftItem = conn.leftId;
                const rightItem = conn.rightId;

                // Determine which is question and which is answer based on column ID
                let questionId, answerId;
                if (document.querySelector(`.matching-item[data-id="${leftItem}"]`).parentElement.id === 'column-left') {
                    questionId = leftItem;
                    answerId = rightItem;
                } else {
                    questionId = rightItem;
                    answerId = leftItem;
                }

                if (correctPairs[questionId] === answerId) {
                    conn.status = 'correct';
                    correctCount++;
                } else {
                    conn.status = 'incorrect';
                    allCorrect = false;
                }
            });

            // Redraw connections with color feedback (optional, but good for visual)
            ctx.clearRect(0, 0, matchingCanvas.width, matchingCanvas.height);
            connections.forEach(conn => {
                const leftElement = document.querySelector(`.matching-item[data-id="${conn.leftId}"]`);
                const rightElement = document.querySelector(`.matching-item[data-id="${conn.rightId}"]`);

                if (leftElement && rightElement) {
                    const rectLeft = leftElement.getBoundingClientRect();
                    const rectRight = rightElement.getBoundingClientRect();
                    const containerRect = matchingGameContainer.getBoundingClientRect();

                    const startX = rectLeft.right - containerRect.left;
                    const startY = rectLeft.top + rectLeft.height / 2 - containerRect.top;
                    const endX = rectRight.left - containerRect.left;
                    const endY = rectRight.top + rectRight.height / 2 - containerRect.top;

                    ctx.beginPath();
                    ctx.moveTo(startX, startY);
                    ctx.lineTo(endX, endY);
                    ctx.strokeStyle = conn.status === 'correct' ? 'green' : 'red';
                    ctx.lineWidth = 3;
                    ctx.stroke();
                }
            });


            if (allCorrect && connections.length === Object.keys(correctPairs).length) { // Ensure all questions are answered and correct
                matchingFeedback.textContent = "Hebat! Semua pasangan manfaat PoC sudah benar.";
                matchingFeedback.className = "quiz-feedback correct";
            } else {
                matchingFeedback.textContent = `Ada ${connections.length - correctCount} jawaban yang belum tepat. Silakan coba lagi!`;
                matchingFeedback.className = "quiz-feedback incorrect";
            }
            matchingFeedback.style.display = "block";
        }

        function resetMatchingGame() {
            connections = [];
            selectedItem = null;
            ctx.clearRect(0, 0, matchingCanvas.width, matchingCanvas.height);
            document.querySelectorAll('.matching-item').forEach(item => {
                item.style.backgroundColor = '';
            });
            matchingFeedback.style.display = "none";
            matchingFeedback.textContent = "";
        }

        // Initialize canvas position after elements are rendered
        window.addEventListener('load', setCanvasDimensions);


        // Quiz Poc Role
        function checkPocQuiz() {
            const selected = document.querySelector('input[name="pocRole"]:checked');
            const feedbackDiv = document.getElementById('poc-quiz-feedback');
            if (selected) {
                if (selected.value === 'c') {
                    feedbackDiv.textContent = "Tepat sekali! PoC berperan krusial dalam mendekatkan layanan ke komunitas dan mengurangi hambatan akses serta stigma.";
                    feedbackDiv.className = "quiz-feedback correct";
                } else {
                    feedbackDiv.textContent = "Jawaban kurang tepat. PoC adalah pelengkap, bukan pengganti, dan fokus pada pendekatan komunitas.";
                    feedbackDiv.className = "quiz-feedback incorrect";
                }
                feedbackDiv.style.display = "block";
            } else {
                feedbackDiv.textContent = "Silakan pilih salah satu jawaban.";
                feedbackDiv.className = "quiz-feedback incorrect";
                feedbackDiv.style.display = "block";
            }
        }
    </script>
</body>
</html>
